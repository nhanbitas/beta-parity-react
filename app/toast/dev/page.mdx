import * as Demo from '@public/demo/toast';
import CodePreview from '@components/showcase/CodePreview';
import { ToastContainer } from 'beta-parity-react/ui/Toast';

{/* add container in your page you want to use toast */}
{/* <ToastContainer limit={3} stacked={false} sortImportance={true}/> */}
{/* <ToastContainer limit={1} stacked={true} sortImportance={false}/> */}
{/* <ToastContainer limit={1} stacked={true} sortImportance={true} data-scheme="dark"/> */}

## Toast Container

- The `ToastContainer` is a wrapper component that manages the display of toast notifications. It can be configured with various options such as stacking, sorting by importance, and limiting the number of toasts displayed at once.
- Add the `ToastContainer` to your page/layout to enable toast notifications.

<CodePreview paths={['toast', 'ToastContainerLimit1StackedSortImportance']}>
  <Demo.ToastContainerLimit1StackedSortImportance />
</CodePreview>

## Types

<CodePreview paths={['toast', 'GenericToast']}>
  <Demo.GenericToast />
</CodePreview>
<CodePreview paths={['toast', 'InformationToast']}>
  <Demo.InformationToast />
</CodePreview>
<CodePreview paths={['toast', 'AffirmativeToast']}>
  <Demo.AffirmativeToast />
</CodePreview>
<CodePreview paths={['toast', 'CautionaryToast']}>
  <Demo.CautionaryToast />
</CodePreview>
<CodePreview paths={['toast', 'AdverseToast']}>
  <Demo.AdverseToast />
</CodePreview>

## Duration

<CodePreview paths={['toast', 'AutoCloseToast']}>
  <Demo.AutoCloseToast />
</CodePreview>

## Position

<CodePreview paths={['toast', 'PositionToast']}>
  <Demo.PositionToast />
</CodePreview>

## Important

<CodePreview paths={['toast', 'ImportantToast']}>
  <Demo.ImportantToast />
</CodePreview>

## Pending

<CodePreview paths={['toast', 'PendingToast']}>
  <Demo.PendingToast />
</CodePreview>

---

## Design Tokens for Toast

| **Token**                                              | **Color for**    | **State/Meaning**     | **CSS Selector(s)**                        |
| ------------------------------------------------------ | ---------------- | --------------------- | ------------------------------------------ |
| **--par-color-bg-toast-emphasis-high-generic**         | Toast background | Generic               | `.toast.emphasis-high.generic`             |
| **--par-color-bg-toast-emphasis-high-information**     | Toast background | Information           | `.toast.emphasis-high.information`         |
| **--par-color-bg-toast-emphasis-high-affirmative**     | Toast background | Affirmative (success) | `.toast.emphasis-high.affirmative`         |
| **--par-color-bg-toast-emphasis-high-cautionary**      | Toast background | Cautionary (warning)  | `.toast.emphasis-high.cautionary`          |
| **--par-color-bg-toast-emphasis-high-adverse**         | Toast background | Adverse (error)       | `.toast.emphasis-high.adverse`             |
| **--par-color-bg-emphasis-normal**                     | Toast background | Normal emphasis       | `.toast.emphasis-normal`                   |
| **--par-color-border-toast-emphasis-high-generic**     | Toast border     | Generic               | `.toast.emphasis-high.generic`             |
| **--par-color-border-toast-emphasis-high-info**        | Toast border     | Information           | `.toast.emphasis-high.information`         |
| **--par-color-border-toast-emphasis-high-affirmative** | Toast border     | Affirmative (success) | `.toast.emphasis-high.affirmative`         |
| **--par-color-border-toast-emphasis-high-cautionary**  | Toast border     | Cautionary (warning)  | `.toast.emphasis-high.cautionary`          |
| **--par-color-border-toast-emphasis-high-adverse**     | Toast border     | Adverse (error)       | `.toast.emphasis-high.adverse`             |
| **--par-color-border-emphasis-normal**                 | Toast border     | Normal emphasis       | `.toast.emphasis-normal`                   |
| **--par-color-border-progress-bar-generic**            | Progress bar     | Generic               | `.toast.generic > .toast-progress-bar`     |
| **--par-color-border-progress-bar-info**               | Progress bar     | Information           | `.toast.information > .toast-progress-bar` |
| **--par-color-border-progress-bar-affirmative**        | Progress bar     | Affirmative (success) | `.toast.affirmative > .toast-progress-bar` |
| **--par-color-border-progress-bar-cautionary**         | Progress bar     | Cautionary (warning)  | `.toast.cautionary > .toast-progress-bar`  |
| **--par-color-border-progress-bar-adverse**            | Progress bar     | Adverse (error)       | `.toast.adverse > .toast-progress-bar`     |

> _Note: Toast uses design tokens defined in `variables.css` and shares some tokens with Alert/Notification._

---

## Toast API Reference

### `<Toast />`

| **Prop**          | **Type**                                                                 | **Default** | **Description**                              |
| ----------------- | ------------------------------------------------------------------------ | ----------- | -------------------------------------------- |
| **title**         | string \| ReactNode                                                      |             | Title text of the toast                      |
| **message**       | string \| ReactNode                                                      |             | Main message content                         |
| **action**        | ReactNode                                                                |             | Optional action element (e.g. button)        |
| **kind**          | 'generic' \| 'information' \| 'affirmative' \| 'cautionary' \| 'adverse' | 'generic'   | Visual style and purpose of the toast        |
| **emphasis**      | 'normal' \| 'high'                                                       | 'high'      | Emphasis level (visual prominence)           |
| **height**        | 'flexible' \| 'compact'                                                  | 'flexible'  | Height variant (standard or compact)         |
| **position**      | 'top-right' \| 'top-center' \| 'bottom-right' \| 'bottom-center'         | 'top-right' | Screen position for the toast                |
| **autoDismiss**   | boolean                                                                  | false       | Auto-dismiss after a set duration            |
| **duration**      | number                                                                   | 5000        | Auto-dismiss duration in milliseconds        |
| **pauseOnHover**  | boolean                                                                  | true        | Pause auto-dismiss timer on hover            |
| **icon**          | ReactNode                                                                |             | Custom icon (overrides default)              |
| **progressBar**   | boolean                                                                  | false       | Show a progress bar for auto-dismiss         |
| **dismissButton** | boolean                                                                  | true        | Show a close (dismiss) button                |
| **importance**    | number                                                                   | 0           | Priority for stacking/sorting                |
| **pending**       | boolean                                                                  | false       | Show loading spinner (pending state)         |
| **onDismissed**   | function ()                                                              |             | Callback when toast is dismissed             |
| **...divProps**   | HTMLDivElement props                                                     |             | All native div props (className, style, ...) |

> **Note:** `ToastOptions` includes all the above props except `id` and `removeToast` (which are internal and managed by the system).

---

### `toast()`

Creates and controls toast notifications programmatically.

**Signature:**

```ts
const myToast = toast(options: ToastOptions): ToastController;
```

**Parameters:**

| **Name** | **Type**     | **Description**                                                          |
| -------- | ------------ | ------------------------------------------------------------------------ |
| options  | ToastOptions | Toast options (same as `<Toast />` props except `id` and `removeToast`). |

**Returns:**

A `ToastController` object with the following methods:

| **Method**    | **Signature**                         | **Description**                               |
| ------------- | ------------------------------------- | --------------------------------------------- |
| `start()`     | `() => void`                          | Show the toast                                |
| `stop()`      | `() => void`                          | Remove the toast                              |
| `update()`    | `(options: ToastOptions) => void`     | Update the toast with new options             |
| `getDetail()` | `() => ToastOptions & { id: string }` | Get the current toast detail (including `id`) |

**Example:**

```ts
const myToast = toast({ kind: 'success', message: 'Task completed!' });
myToast.start(); // Show the toast
myToast.update({ message: 'Updated message' }); // Update toast content
myToast.stop(); // Remove the toast
```

> **Note:** `toast()` dispatches custom events to control toasts. You must have a `<ToastContainer />` mounted in your app for toasts to appear.
