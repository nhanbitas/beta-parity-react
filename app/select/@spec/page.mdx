import { Badge } from 'beta-parity-react/ui/Badge';
import Image from '@components/showcase/ImagePreview';
import Component from '@components/showcase/CodePreview';
import * as Demo from '@public/demo/select';
import TableOfContents from '@components/doc/TableOfContents';

<TableOfContents />

import imageSrc from '@public/images/select';

:::callout[note]
A selection field that allows users to choose a single option or multiple options from a dropdown menu.
:::

<Image src={imageSrc.select} alt='select' />

## Design checklist

| Status | Item                                 | Description                                                                                                                                                                                                                       |
| ------ | ------------------------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| ✔️     | Anatomy                              | Includes descriptions of all parts of the component and its major variants.                                                                                                                                                       |
| ✔️     | States                               | Includes all applicable interaction, display and value states.                                                                                                                                                                    |
| ✔️     | Options                              | Includes all relevant options (functional type, stylistic kind, semantic color, size, orientation, optional iconography, decorations, etc.)                                                                                       |
| ✔️     | Color schemes                        | Includes both light and dark color schemes.                                                                                                                                                                                       |
| ✔️     | Behaviors                            | Includes descriptions of behaviors related to other components and responsive behaviors related to media breakpoints, size (minimums and maximums), orientation, alignment, position and layout (wrapping, truncation, overflow). |
| ✔️     | Accessibility: Keyboard interactions | Includes descriptions of all keyboard interactions, focus indication and navigation order.                                                                                                                                        |
|        | Accessibility: Text contrast         | Text meets a contrast ratio of at least 4.5:1 for small text and 3:1 for large text (WCAG 2.0 1.4.3) and/or a lightness contrast value of at least Lc 75 for standard text and Lc 60 for large text (APCA).                       |
|        | Accessibility: UI component contrast | Visual information required to identify states and boundaries of active UI components has a contrast ratio against adjacent colors of at least 3:1 (WCAG 2.1 1.4.11) and/or a lightness contrast value of at least Lc 60 (APCA).  |
|        | Usage guidelines                     | Includes a list of recommended and discouraged usages.                                                                                                                                                                            |
|        | Content guidelines                   | Includes content standards and guidelines for how to write or format in-product content for the component.                                                                                                                        |
|        | Internationalization                 | Includes support for various locales and bi-directionality (RTL).                                                                                                                                                                 |
|        | Design tokens                        | All design attributes (color, typography, layout, animation, etc.) are available as design tokens.                                                                                                                                |

## Anatomy

### Default

- **Field**: The outermost encompassing element.
- **Icon**: An optional visual element that represents the select field.
- **Placeholder**: A temporary text provides hints for value selection.
- **Input value**: The value selected by the user.
- **Clear button**: An optional button that clears the input value.
- **Chevron**: An optional visual element that indicates the display state of a dropdown menu.
- **Dropdown menu**: The interactive popover interface where the user are presented with options to select from. It is the [[Menu]] component.

<Image src={imageSrc.anatomy} alt='anatomy' />

### Floating label

- **Floating label**: An optional text label that transitions from an in-field placeholder to a label above the field when focused or filled.

<Image src={imageSrc.anatomy2} alt='anatomy2' />

### Multiple selection

- **Selected option tag**: An element which represents the selected option. It is the [[Tag]] component.
- **Count badge**: An badge which indicates the number of selected options.

<Image src={imageSrc.anatomy3} alt='anatomy3' />

## States

### Field

#### Interaction states

##### Enabled

- Interaction with the select field is available.

<Image src={imageSrc.enabled} alt='enabled' />

<Image src={imageSrc.enabled2} alt='enabled2' />

##### Hovered

- The cursor is currently positioned over the select field, indicated by the text cursor and a slightly different border color.

<Image src={imageSrc.hovered} alt='hovered' />

<Image src={imageSrc.hovered2} alt='hovered2' />

##### Focused

- The select field is focused via keyboard or mouse interaction, indicated by a thickened border.

<Image src={imageSrc.focused} alt='focused' />

<Image src={imageSrc.focused2} alt='focused2' />

##### Read-only

- The selected input value is displayed but the select field is not interactive.

> [!missing] Missing specification for multi-select

<Image src={imageSrc.readonly} alt='readonly' />

<Image src={imageSrc.readonly2} alt='readonly2' />

##### Disabled

- Interaction with the input field is disallowed, indicated by a muted appearance.

<Image src={imageSrc.disabled} alt='disabled' />

<Image src={imageSrc.disabled2} alt='disabled2' />

#### Value states

##### Unselected

- The field does not contain any input value.

<Image src={imageSrc.unselected} alt='unselected' />

<Image src={imageSrc.unselected2} alt='unselected2' />

##### Selected

- The field contains some input value.

<Image src={imageSrc.selected} alt='selected' />

<Image src={imageSrc.selected2} alt='selected2' />

##### Invalid

- The input value does not meet specified criteria, indicated by a red border color and an error message.

<Image src={imageSrc.invalid} alt='invalid' />

<Image src={imageSrc.invalid2} alt='invalid2' />

### Dropdown menu

This sub-component has the same states as [[Menu]].

<Image src={imageSrc.dropdownMenu} alt='dropdownMenu' />

### Clear button

This sub-component has the same states as [[Button]].

<Image src={imageSrc.clearButton} alt='clearButton' />

### Selected option tag

This sub-component has the same states as [[Tag]].

<Image src={imageSrc.selectOptionTag} alt='selectOptionTag' />

## Options

### Field options

##### Layering

- Selects are available in default or alternative [[Layering]].
- The Layering option chosen also affects the dropdown menu.

<Image src={imageSrc.defaultLayer} alt='defaultLayer' />

<Image src={imageSrc.alternative} alt='alternative' />

##### Size

- Selects are available in small and medium sizes that differ in field height.
- Medium is the default select size.

<Image src={imageSrc.small} alt='small' />

<Image src={imageSrc.medium} alt='medium' />

##### Floating label

- A label can be optionally included within the select field, which will increase its height.
- The label is maximized within the middle of the field in the unselected state and the select field has not received focus.
- The label is minimized and floats towards the top when the select field receives focus.

<Image src={imageSrc.floatingLabel} alt='floatingLabel' />

##### Placeholder

- A placeholder text can be optionally displayed for the purpose of providing the user a selection hint.

<Image src={imageSrc.placeholder} alt='placeholder' />

##### Clear button

- A clear button can be added to the select field to allow quick clearing of the entered value when clicked.

<Image src={imageSrc.clearButtonOption} alt='clearButtonOption' />

##### Icon

- An icon can be optionally added to the leftmost position within the select field.

<Image src={imageSrc.icon} alt='icon' />

##### Multiple selection

- Selects can be optionally configured to allow multiple selections.
- Selected options are displayed as tags within the select field.

<Image src={imageSrc.multipleSelection} alt='multipleSelection' />

### Dropdown menu options

The dropdown menu sub-component inherits all available options of the [[Menu#Options|Menu]] component.

<Image src={imageSrc.dropdownMenuOption} alt='dropdownMenuOption' />

## Behaviors

##### Tags overflow

- When there is insufficient space to display all tags of a multiple selection select, tags are replaced with a count badge indicating the number of options currently selected.

<Image src={imageSrc.tagOverflow} alt='tagOverflow' />

> [!missing] Section is incomplete

## Design Tokens for Select

| **Token**                                | **Color for**                | **State/Meaning** | **CSS Selector(s)**                                                             |
| ---------------------------------------- | ---------------------------- | ----------------- | ------------------------------------------------------------------------------- |
| `--par-color-bg-field-enabled`           | Select field background      | Enabled           | `select.native-select:enabled`                                                  |
| `--par-color-bg-field-hovered`           | Select field background      | Hovered           | `select.native-select:hover`                                                    |
| `--par-color-bg-field-disabled`          | Select field background      | Disabled          | `select.native-select:disabled`                                                 |
| `--par-color-bg-field-readonly`          | Select field background      | Readonly          | `select.native-select[readonly]`                                                |
| `--par-color-bg-field-invalid`           | Select field background      | Invalid/Error     | `select.native-select.invalid`                                                  |
| `--par-color-border-field-enabled`       | Select field border          | Enabled           | `select.native-select:enabled`                                                  |
| `--par-color-border-field-hovered`       | Select field border          | Hovered           | `select.native-select:hover`                                                    |
| `--par-color-border-field-disabled`      | Select field border          | Disabled          | `select.native-select:disabled`                                                 |
| `--par-color-border-field-invalid`       | Select field border          | Invalid/Error     | `select.native-select.invalid`                                                  |
| `--par-color-border-field-focused`       | Select field border          | Focused           | `select.native-select:focus`                                                    |
| `--par-color-text-field-placeholder`     | Placeholder text             | Any               | `select.native-select::placeholder`, `.select-input.non-value`, `.select-label` |
| `--par-color-text-field-filled`          | Select field text            | Filled            | `select.native-select`, `.select-input`                                         |
| `--par-color-text-field-label`           | Label text                   | Any               | `.select-label`                                                                 |
| `--par-color-text-field-disabled`        | Select field text            | Disabled          | `select.native-select:disabled`                                                 |
| `--par-color-text-field-readonly`        | Select field text            | Readonly          | `select.native-select[readonly]`                                                |
| `--par-color-text-field-invalid`         | Select field text            | Invalid/Error     | `select.native-select.invalid`                                                  |
| `--par-color-icon-field-button-enabled`  | Icon color (button enabled)  | Enabled           | `.arrow-select-btn:enabled`, `.clear-button:enabled`                            |
| `--par-color-icon-field-button-hovered`  | Icon color (button hovered)  | Hovered           | `.arrow-select-btn:hover`, `.clear-button:hover`                                |
| `--par-color-icon-field-button-pressed`  | Icon color (button pressed)  | Pressed           | `.arrow-select-btn:active`, `.clear-button:active`                              |
| `--par-color-icon-field-button-disabled` | Icon color (button disabled) | Disabled          | `.arrow-select-btn:disabled`, `.clear-button:disabled`                          |

> _Note: Select uses the same design tokens as the Input or Dropdown component. See Input/Dropdown documentation for available tokens._

---

## Select API Reference

### `<Select />`

| **Prop**          | **Type**                  | **Default** | **Description**                                                        |
| ----------------- | ------------------------- | ----------- | ---------------------------------------------------------------------- |
| **options**       | array                     |             | List of options                                                        |
| **value**         | string \| number \| array |             | Selected value(s)                                                      |
| **onChange**      | function (value)          |             | Callback when value changes                                            |
| **multiselect**   | boolean                   | _false_     | Allow multiple selection (named `multiselect` in code, not `multiple`) |
| **disabled**      | boolean                   | _false_     | Disable the select                                                     |
| **placeholder**   | string                    |             | Placeholder text                                                       |
| **clearButton**   | boolean                   | _false_     | Show clear button                                                      |
| **filterable**    | boolean                   | _false_     | Allow filtering options                                                |
| **tagProps**      | object                    |             | Tag props for multi-select (see Tag spec)                              |
| **theme**         | string                    | 'default'   | Visual theme ('default' or 'alternative')                              |
| **selectSize**    | string                    | 'md'        | Size of select ('sm', 'md')                                            |
| **floatingLabel** | string \| ReactNode       |             | Floating label                                                         |
| **leftIcon**      | ReactNode                 |             | Icon on the left                                                       |
| **...InputProps** | [See Input](../BaseInput) |             | Inherits all props from **Input**                                      |
| **...MenuProps**  | [See Menu](../menu/@spec) |             | Inherits all props from **Menu**                                       |
| **...TagProps**   | [See Tag](../tag/@spec)   |             | Inherits all props from **Tag**                                        |
