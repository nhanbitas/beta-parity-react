import { Badge } from 'beta-parity-react/ui/Badge';
import Image from '@components/showcase/ImagePreview';
import Component from '@components/showcase/CodePreview';
import * as Demo from '@public/demo/pinfield';

{/* Image => Image Example */}
{/* Component => Component Example */}

:::callout[note]
A component for collecting PIN codes, security verification codes, or other short sequences of characters with customizable grouping and input masking.
:::

## Design checklist <span id="design-checklist"></span>

| Status | Item          | Description                                                                                                                                                                                                                       |
| ------ | ------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| ‚úîÔ∏è     | Anatomy       | Includes descriptions of all parts of the component and its major variants.                                                                                                                                                       |
| ‚úîÔ∏è     | States        | Includes all applicable interaction, display and value states.                                                                                                                                                                    |
| ‚úîÔ∏è     | Options       | Includes all relevant options (functional type, stylistic kind, semantic color, size, orientation, optional iconography, decorations, etc.)                                                                                       |
| ‚úîÔ∏è     | Color schemes | Includes both light and dark color schemes.                                                                                                                                                                                       |
|        | Behaviors     | Includes descriptions of behaviors related to other components and responsive behaviors related to media breakpoints, size (minimums and maximums), orientation, alignment, position and layout (wrapping, truncation, overflow). |

## Anatomy <span id="anatomy"></span>

The PINField component consists of:

1. **PIN Input Fields** - A series of input fields for entering individual characters
2. **Separators** - Optional visual separators between groups of fields
3. **Focus Indicator** - Visual indicator for the currently focused field
4. **Placeholder** - Optional placeholder to indicate empty fields

## States <span id="states"></span>

### Interaction states

#### Enabled

The default state of the PINField when it's ready for user input.

#### Focused

Indicates which field is currently active and ready to receive input. Only one field can be focused at a time.

#### Disabled

The PINField is not interactive and cannot receive input or focus.

#### Read-only

The PINField displays its value but cannot be edited.

### Value states

#### Empty

No values have been entered into the fields.

#### Partially filled

Some, but not all fields have values.

#### Completely filled

All fields have values.

#### Invalid

The entered value does not meet the required format or validation rules.

## Options <span id="options"></span>

##### Size

- **Small**: Compact size for limited space
- **Medium**: Standard size for typical use cases

##### Groups

The number of fields can be customized, and they can be organized into visual groups (e.g., 2-2-2 for a 6-digit code like "12-34-56").

##### Masking

Fields can display the actual characters entered or masked characters (e.g., "‚Ä¢") for sensitive information like PINs.

##### Placeholder

Custom placeholder characters can be specified for empty fields.

##### Separator

Custom separator characters can be specified for groups.

## Behaviors <span id="behaviors"></span>

- Auto-advances to the next field when a character is entered
- Allows deletion and moving backward through fields
- Optional callback when all fields are filled
- Supports copy/paste of the entire code

## üß© PinField API Reference

### `<PinField />`

| **Prop**        | **Type**                   | **Default** | **Description**                                  |
| --------------- | -------------------------- | ----------- | ------------------------------------------------ |
| **groups**      | number[]                   | [4]         | Number and grouping of PIN fields (e.g. [2,2,2]) |
| **value**       | string                     |             | PIN value (controlled)                           |
| **onChange**    | function (value)           |             | Callback when value changes                      |
| **onComplete**  | function (value)           |             | Callback when all fields are filled              |
| **masked**      | boolean                    | _false_     | Mask input characters (password style)           |
| **separator**   | string                     | '-'         | Separator character between groups               |
| **reset**       | boolean                    | _false_     | Reset all input fields                           |
| **readOnly**    | boolean                    | _false_     | Read-only, cannot edit                           |
| **disabled**    | boolean                    | _false_     | Disable all fields                               |
| **invalid**     | boolean                    | _false_     | Invalid/error state                              |
| **size**        | 'sm' \| 'md'               | 'md'        | Field size                                       |
| **theme**       | 'default' \| 'alternative' | 'default'   | Theme                                            |
| **placeholder** | string                     | '‚Ä¢'         | Placeholder for empty fields                     |
| ...HTMLDivProps | HTMLDivElement props       |             | Inherits all props of div                        |

> **_Note:_** _PinField_ \*\*does not inherit InputProps directly but HTMLDivElement props.\_

---

## üé® Design Tokens for PinField

| **Token**                                | **Color for**                | **State/Meaning** | **CSS Selector(s)**                                    |
| ---------------------------------------- | ---------------------------- | ----------------- | ------------------------------------------------------ |
| `--par-color-bg-field-enabled`           | Pin field background         | Enabled           | `.pinfield-input:not(:disabled):not([readonly])`       |
| `--par-color-bg-field-hovered`           | Pin field background         | Hovered           | `.pinfield-input:hover:not(:disabled):not([readonly])` |
| `--par-color-bg-field-disabled`          | Pin field background         | Disabled          | `.pinfield.pinfield-disabled .pinfield-input`          |
| `--par-color-bg-field-readonly`          | Pin field background         | Readonly          | `.pinfield.pinfield-read-only .pinfield-input`         |
| `--par-color-bg-field-invalid`           | Pin field background         | Invalid/Error     | `.pinfield.pinfield-invalid .pinfield-input`           |
| `--par-color-border-field-enabled`       | Pin field border             | Enabled           | `.pinfield-item`                                       |
| `--par-color-border-field-hovered`       | Pin field border             | Hovered           | `.pinfield-item:hover`                                 |
| `--par-color-border-field-disabled`      | Pin field border             | Disabled          | `.pinfield.pinfield-disabled .pinfield-item`           |
| `--par-color-border-field-invalid`       | Pin field border             | Invalid/Error     | `.pinfield.pinfield-invalid .pinfield-item`            |
| `--par-color-border-field-focused`       | Pin field border             | Focused           | `.pinfield-item:focus-within`                          |
| `--par-color-text-field-placeholder`     | Placeholder text             | Any               | `.pinfield-placeholder`                                |
| `--par-color-text-field-filled`          | Pin field text               | Filled            | `.pinfield-input`                                      |
| `--par-color-text-field-label`           | Label text                   | Any               | `.pinfield-label`                                      |
| `--par-color-text-field-disabled`        | Pin field text               | Disabled          | `.pinfield.pinfield-disabled .pinfield-input`          |
| `--par-color-text-field-readonly`        | Pin field text               | Readonly          | `.pinfield.pinfield-read-only .pinfield-input`         |
| `--par-color-text-field-invalid`         | Pin field text               | Invalid/Error     | `.pinfield.pinfield-invalid .pinfield-input`           |
| `--par-color-icon-field-button-enabled`  | Icon color (button enabled)  | Enabled           | (not applicable, no separate icon button)              |
| `--par-color-icon-field-button-hovered`  | Icon color (button hovered)  | Hovered           | (not applicable, no separate icon button)              |
| `--par-color-icon-field-button-pressed`  | Icon color (button pressed)  | Pressed           | (not applicable, no separate icon button)              |
| `--par-color-icon-field-button-disabled` | Icon color (button disabled) | Disabled          | (not applicable, no separate icon button)              |

> _Note: PinField uses the same design tokens as Input. See Input documentation for more details._

---

## Changelog <span id="changelog"></span>

| Date       | Type                                                     | Description    | Author         | Associated issue(s) |
| :--------- | :------------------------------------------------------- | -------------- | :------------- | :------------------ |
| 2023-05-12 | <Badge size='sm' kind='glass' color='cyan' label="new"/> | Initial design | GitHub Copilot | -                   |
