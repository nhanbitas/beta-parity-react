import { Badge } from 'beta-parity-react/ui/Badge';
import Image from '@components/showcase/ImagePreview';
import Component from '@components/showcase/CodePreview';
import imageSrc from '@public/images/accordion';
import * as Demo from '@public/demo/accordion';

:::callout[note]
A component that organizes content into vertically stacked collapsible and expandable sections.
:::

<Image src={imageSrc.accordion.src} alt='accordion' />

## Design checklist

| Status | Item                                 | Description                                                                                                                                                                                                                       |
| ------ | ------------------------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| ‚úîÔ∏è     | Anatomy                              | Includes descriptions of all parts of the component and its major variants.                                                                                                                                                       |
| ‚úîÔ∏è     | States                               | Includes all applicable interaction, display and value states.                                                                                                                                                                    |
| ‚úîÔ∏è     | Options                              | Includes all relevant options (functional type, stylistic kind, semantic color, size, orientation, optional iconography, decorations, etc.)                                                                                       |
| ‚úîÔ∏è     | Color schemes                        | Includes both light and dark color schemes.                                                                                                                                                                                       |
|        | Behaviors                            | Includes descriptions of behaviors related to other components and responsive behaviors related to media breakpoints, size (minimums and maximums), orientation, alignment, position and layout (wrapping, truncation, overflow). |
|        | Accessibility: Keyboard interactions | Includes descriptions of all keyboard interactions, focus indication and navigation order.                                                                                                                                        |
|        | Accessibility: Text contrast         | Text meets a contrast ratio of at least 4.5:1 for small text and 3:1 for large text (WCAG 2.0 1.4.3) and/or a lightness contrast value of at least Lc 75 for standard text and Lc 60 for large text (APCA).                       |
|        | Accessibility: UI component contrast | Visual information required to identify states and boundaries of active UI components has a contrast ratio against adjacent colors of at least 3:1 (WCAG 2.1 1.4.11) and/or a lightness contrast value of at least Lc 60 (APCA).  |
|        | Usage guidelines                     | Includes a list of recommended and discouraged usages.                                                                                                                                                                            |
|        | Content guidelines                   | Includes content standards and guidelines for how to write or format in-product content for the component.                                                                                                                        |
|        | Internationalization                 | Includes support for various locales and bi-directionality (RTL).                                                                                                                                                                 |
|        | Design tokens                        | All design attributes (color, typography, layout, animation, etc.) are available as design tokens.                                                                                                                                |

## Anatomy

### Accordion

- **Container**: The outermost encompassing element.
- **Divider**: A horizontal line that separates accordion items.

<Image src={imageSrc.anatomy1.src} alt='anatomy1' />

### Accordion item

- **Container**: The outermost encompassing element.
- **Trigger**: The element that users interact with to expand or collapse the content area.
- **Label**: The text that represents the title of the accordion item.
- **Sublabel**: An optional text that provides additional context for the accordion item.
- **Expanded/collapsed indicator**: An icon that visually represents the expanded or collapsed state of the accordion item.
- **Content area**: The area that contains the content of the accordion item.
- **Content body**: The content text of the accordion item.

<Image src={imageSrc.anatomy2.src} alt='anatomy2' style={{ objectFit: 'contain', objectPosition: 'center' }} />

## States

### Accordion item

#### Interaction states

##### Enabled

- Interaction with the accordion item trigger is available, allowing users to expand or collapse the content.

<Image src={imageSrc.enabled.src} alt='enabled' />

##### Hovered

- The cursor is currently positioned over the accordion item trigger, indicated by a different color shade and the pointer cursor.

<Image src={imageSrc.hovered.src} alt='hovered' />

##### Pressed

- The accordion item trigger is being pressed, indicated by a different color shade.

<Image src={imageSrc.pressed.src} alt='pressed' />

##### Focused

- The accordion item trigger is focused via keyboard interaction, indicated by a ring outline.

<Image src={imageSrc.focused.src} alt='focused' />

##### Disabled

- Interaction with the accordion item trigger is disallowed, indicated by a muted appearance and the disallowed cursor.

<Image src={imageSrc.disabled.src} alt='disabled' />

#### Display states

##### Collapsed

- The content area of the accordion item is hidden, indicated by the down-chevron or plus icon.

<Image src={imageSrc.collapsed.src} alt='collapsed' />

##### Expanded

- The content area of the accordion item is visible, indicated by the up-chevron or minus icon.

<Image src={imageSrc.expanded.src} alt='expanded' />

<Component>
  <Demo.BasicAccordion />
</Component>

## Options

##### Kind

- **Contained**: The accordion's boundary is defined by its border.
- **Flush**: The accordion is borderless and has no background, allowing it to fit fully in parent containers.

<Image src={imageSrc.contained.src} alt='contained' />
<Image src={imageSrc.flush.src} alt='flush' />

##### Sublabel

- A sublabel can be displayed below the accordion item label to provide additional context.

<Image src={imageSrc.sublabel.src} alt='sublabel' />

##### Indicator side

- **Left**: A plus icon and a minus icon are placed to the left of the accordion item title, representing collapsed and expanded states respectively.
- **Right**: An up-chevron icon and a down-chevron icon are placed to the right of the accordion item title, representing collapsed and expanded states respectively.

<Image src={imageSrc.icon.src} alt='icon' />

## Behaviors

## Changelog

| Date       | Type                                                        | Description                                                                                 | Author      | Associated issue(s) |
| :--------- | :---------------------------------------------------------- | ------------------------------------------------------------------------------------------- | :---------- | :------------------ |
| 2024-10-09 | <Badge size='sm' kind='glass' color='cyan' label="new"/>    | Initial design                                                                              | Oanh Nguyen | PAR-52              |
| 2024-10-23 | <Badge size='sm' kind='glass' color='blue' label="update"/> | Specifications:<br/> - Merged sub-components into one sheet<br/> - Improved states examples | Hi Do       |                     |
| 2024-11-20 | <Badge size='sm' kind='glass' color='blue' label="update"/> | Change value c·ªßa par-color-bg-accordion-menu => par-transparent                             | Oanh Nguyen |                     |

## üé® Design Tokens for Accordion

| **Token**                                    | **Color for**                | **State/Meaning**                                 | **CSS Selector(s)** |
| -------------------------------------------- | ---------------------------- | ------------------------------------------------- | ------------------- |
| **--par-color-text-accordion-item-enabled**  | Accordion item text          | Enabled (default)                                 | `.accordion-item-trigger`, `.accordion-item-content` |
| **--par-color-text-accordion-item-hovered**  | Accordion item text          | Hovered                                           | `.accordion-item:not(.active):not([aria-disabled='true']) > .accordion-item-trigger:hover` |
| **--par-color-text-accordion-item-pressed**  | Accordion item text          | Pressed                                           | `.accordion-item:not(.active):not([aria-disabled='true']) > .accordion-item-trigger:active` |
| **--par-color-text-accordion-item-expanded** | Accordion item text          | Expanded                                          | `.accordion-item.active > .accordion-item-trigger`, `.accordion-item-content` |
| **--par-color-text-accordion-item-disabled** | Accordion item text          | Disabled                                          | `.accordion-item[aria-disabled='true']`, `.accordion-item[aria-disabled='true'] button:disabled` |
| **--par-color-bg-accordion-menu**            | Accordion container bg       | Container background (contained kind)             | `.accordion:not(.flush)` |
| **--par-color-bg-accordion-item-enabled**    | Accordion item bg            | Enabled (default)                                 | (not directly applied, fallback for enabled state) |
| **--par-color-bg-accordion-item-hovered**    | Accordion item bg            | Hovered                                           | `.accordion-item:not(.active):not([aria-disabled='true']) > .accordion-item-trigger:hover` |
| **--par-color-bg-accordion-item-pressed**    | Accordion item bg            | Pressed                                           | `.accordion-item:not(.active):not([aria-disabled='true']) > .accordion-item-trigger:active` |
| **--par-color-bg-accordion-item-expanded**   | Accordion item bg            | Expanded                                          | `.accordion-item.active > .accordion-item-trigger` |
| **--par-color-bg-accordion-item-disabled**   | Accordion item bg            | Disabled                                          | `.accordion-item[aria-disabled='true']`, `.accordion-item[aria-disabled='true'] button:disabled` |
| **--par-color-bg**                           | Accordion bg (flush kind)    | General background (flush kind)                   | (not directly applied, fallback for flush kind) |
| **--par-color-border-surface**               | Accordion border             | Border of accordion container and items           | `.accordion:not(.flush)`, `.accordion:not(.flush) > .accordion-item`, `.accordion-item` |

---

## üß© Accordion API Reference

### `<Accordion />`

| **Prop**         | **Type**                                 | **Default**     | **Description**                                                        |
| ---------------- | ---------------------------------------- | -------------- | ---------------------------------------------------------------------- |
| **type**         | 'single' \| 'multiple'                   | _'single'_     | Accordion selection mode: only one or multiple items can be open       |
| **kind**         | 'contained' \| 'flush'                   | _'contained'_  | Visual style: with border/background (**contained**) or borderless (**flush**) |
| **icon**         | 'chevron' \| 'cross'                     | _'chevron'_    | Icon style for expand/collapse indicator                               |
| **iconSide**     | 'left' \| 'right'                        | _'right'_      | Position of indicator icon in trigger                                  |
| **defaultValue** | string \| string[]                        |                | _Uncontrolled_: default open item(s)                                   |
| **value**        | string \| string[]                        |                | _Controlled_: open item(s) value                                       |
| **onChange**     | (value) => void                          |                | Callback when open item(s) change                                      |
| **items**        | Array&#123;title, content, ...&#125;      |                | List of items (see below), alternative to using children               |
| **...BaseProps** | [See below](#baseprops)                  |                | All layout/spacing props from **Base** (margin, padding, etc.)         |
| **...divProps**  | HTMLDivElement props                     |                | All native div props (**className**, **style**, etc.)                  |

#### _items structure_

| **Field**   | **Type**        | **Description**                        |
| ----------- | --------------- | -------------------------------------- |
| **title**   | React.ReactNode | Title for the item (trigger)           |
| **content** | React.ReactNode | Content shown when expanded            |
| **value**   | string          | Unique value for the item              |
| **itemProps**| object         | Extra props for AccordionItem (optional) |

### `<AccordionItem />`

| **Prop**    | **Type**             | **Default** | **Description**                               |
| ----------- | -------------------- | ----------- | --------------------------------------------- |
| **value**   | string               |             | Unique value for the item                     |
| **disabled**| boolean              | _false_     | Disable this item                             |
| **...divProps** | HTMLDivElement props |         | All native div props (**className**, **style**, etc.) |

### `<AccordionItemTrigger />`

| **Prop**        | **Type**                | **Default** | **Description**                                     |
| --------------- | ----------------------- | ----------- | --------------------------------------------------- |
| **isExpanded**  | boolean                 |             | Whether the item is expanded (_injected automatically_) |
| **disabled**    | boolean                 |             | Disable the trigger                                 |
| **handleChange**| () => void              |             | Callback for click (_injected automatically_)        |
| **icon**        | 'chevron' \| 'cross'    | _'chevron'_ | Icon style for expand/collapse indicator             |
| **iconSide**    | 'left' \| 'right'       | _'right'_   | Position of indicator icon in trigger                |
| **...buttonProps** | HTMLButtonElement props |         | All native button props (**className**, **style**, etc.) |

### `<AccordionItemContent />`

| **Prop**    | **Type**             | **Default** | **Description**                                     |
| ----------- | -------------------- | ----------- | --------------------------------------------------- |
| **isExpanded** | boolean            |             | Whether the item is expanded (_injected automatically_) |
| **...divProps** | HTMLDivElement props |         | All native div props (**className**, **style**, etc.) |

### <span id="baseprops"></span>**BaseProps** _(layout/spacing)_,

| **Prop**                              | **Type**         | **Description**                                   |
| ------------------------------------- | ---------------- | ---------------------------------------------     |
| **m, mt, mr, mb, ml, mx, my**         | number \| string | Margin (all, top, right, bottom, left, x, y)      |
| **p, pt, pr, pb, pl, px, py**         | number \| string | Padding (all, top, right, bottom, left, x, y)     |
| **w, h, minW, minH, maxW, maxH**      | number \| string | Width/height/min/max                              |
| **bg, cl, op**                        | string           | Background, color, opacity (CSS)                  |
| **bd, bdColor, bdWidth, bdStyle, radius** | string       | Border, border color, width, style, radius        |
| ...and more (see Base component)      |                  | [All layout props from **Base**](../Base)         |

> **Note:** Accordion extends all layout/spacing props from the _Base_ component. See [**BaseProps**](../Base) for full list.
